<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Progetto_Web</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body style="background-image: url(assets/sfondo_progetto.jpg) ;   background-repeat: no-repeat;
background-attachment: fixed;
background-size: 100% 100%; ">
    <div class="main">
        <nav class="navbar navbar-dark bg-dark navbar-expand-lg container-fluid sticky-top">

            <div class="navbar-brand mx-2 mb-0 h1">AFSE</div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll"
                aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse mx-3 justify-content-between" id="navbarScroll">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link active " aria-current="page" href="http://localhost:3000/home.html">Home</a>
                    </li>
                    <li class="nav-item" id="cardMarket">
                        <a class="nav-link active" aria-current="page"
                            href="http://localhost:3000/cardMarket.html">cardMarket</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active " aria-current="page"
                            href="http://localhost:3000/cards.html">Cards</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="http://localhost:3000/shop.html">SHOP</a>
                    </li>

                </ul>
                <div id="user_nav" class="nav-item dropdown d-none">
                    <button id="username" type="button" class="btn btn-secondary dropdown-toggle"
                        data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Offset
                    </button>
                    <div class="dropdown-menu dropdown-menu-end">
                        <li class="md-0"><span class="dropdown-item-text"><b>Monete: </b>
                                <p id="coins"></p>
                                <b>Pacchetti: </b>
                                <p id="boostersNumber"></p>
                                </p>
                            </span>
                        </li>

                        <div class="dropdown-divider"></div>

                        <a class="dropdown-item" href="http://localhost:3000/myPacks.html">My Packs</a>
                        <a class="dropdown-item" href="http://localhost:3000/userPage.html">My Page</a>
                        <a class="dropdown-item" href="http://localhost:3000/album.html">My Album</a>
                        <div class="dropdown-divider"></div>
                        <button class="dropdown-item" onclick="logout()">logout</button>
                    </div>
                </div>

                <div id="login_nav" class="">
                    <button class="btn btn-outline-warning" id="login-button"
                        onclick="window.location.href='http://localhost:3000/login.html'">Login</button>
                    <button class="btn btn-warning" id="register-button"
                        onclick="window.location.href='http://localhost:3000/register.html'">Register</button>
                </div>
            </div>
        </nav>
        <div class="container align-content-center" >
            <h1 class="text-center m-3" style="color: white;">Ecco alcune carte che potresti trovare</h1>
            <div class="d-flex justify-content-center">
                <div id="carosello" class="card m-3 d-flex flex-center" style="height:20rem; width:20rem;">
                    <div id="carouselExampleAutoplaying" class="carousel slide card-body" data-bs-ride="carousel">
                        <div class="carousel-inner align-items-center m-4">
                        </div>
                    </div>
                </div>
                <div id="carosello" class="card m-3 align-content-center" style="height:20rem; width:20rem;">
                    <div id="carouselExampleAutoplaying" class="carousel slide card-body m-4" data-bs-ride="carousel">
                        <div class="carousel-inner align-items-center">
                        </div>
                    </div>
                </div>

            </div>
        </div>


    </div>
    <script src="scripts/lib.js"></script>
    <script>

        onload = async () => {
            maghi = await getRandomMaghi(5);
            maghi2 = await getRandomMaghi(5);
            showHeroCarousel(maghi, 0);
            showHeroCarousel(maghi2, 1);
        }

        function showHeroCarousel(maghi, n) {
            for (i = 0; i < maghi.length; i++) {

                document.getElementsByClassName("carousel-inner align-items-center")[n].innerHTML +=
                    `<div class="carousel-item text-center card border-round align-center" style="width:15rem; height:15rem;">
                        <img src="${maghi[i].image}" class="card-img-top img-fluid"  alt="${maghi[i].name}" style="height:100%">
                        </div>`;
                if (i == 0) {
                    document.getElementsByClassName("carousel-item text-center card ")[5 * n].classList.add("active");
                }
            }
        }
        
    </script>
</body>
</body>

</html>
</div>